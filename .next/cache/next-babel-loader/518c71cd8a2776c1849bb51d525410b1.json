{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bitingcold\\\\Documents\\\\Development\\\\policy-crud\\\\pages\\\\dashboard.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Link from 'next/link';\nimport React, { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { InputText } from 'primereact/inputtext';\nimport { Growl } from 'primereact/growl';\nimport { Calendar } from 'primereact/calendar';\nimport axios from 'axios';\nimport moment from 'moment';\nconst baseUrl = 'http://127.0.0.1:4000/';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"postData\", () => {\n      axios.post(`${baseUrl}policies`, this.state.data).then(res => {\n        console.log(res);\n      });\n    });\n\n    this.state = {\n      data: []\n    };\n    this.textEditor = this.textEditor.bind(this);\n    this.dateTemplate = this.dateTemplate.bind(this);\n    this.calendarEditor = this.calendarEditor.bind(this);\n    this.requiredValidator = this.requiredValidator.bind(this);\n  }\n\n  async componentDidMount() {\n    const res = fetch(`${baseUrl}policies`).then(r => r.json()).then(data => this.setState({\n      data: data\n    }));\n  }\n\n  onEditorValueChange(props, value) {\n    let updatedData = [...props.value];\n    updatedData[props.rowIndex][props.field] = value;\n    this.setState({\n      data: updatedData\n    });\n  }\n\n  dateTemplate(rowData, column) {\n    return moment(rowData['effective_date']).format(\"MM-DD-YYYY\");\n  }\n\n  inputTextEditor(props, field) {\n    return __jsx(InputText, {\n      type: \"text\",\n      value: props.rowData[field],\n      onChange: e => this.onEditorValueChange(props, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }\n    });\n  }\n\n  textEditor(props) {\n    this.postData();\n    return this.inputTextEditor(props, props.field);\n  }\n\n  calendarEditor(props, field) {\n    return __jsx(InputText, {\n      type: \"text\",\n      value: moment(props.rowData[field]).format(\"MM/DD/YYYY\"),\n      onChange: e => this.onEditorValueChange(props, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 10\n      }\n    });\n  }\n\n  requiredValidator(props) {\n    let value = props.rowData[props.field];\n    return value && value.length > 0;\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, __jsx(Link, {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, __jsx(\"a\", {\n      title: \"New Policy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 30\n      }\n    }, \"Create new policy\")), __jsx(\"div\", {\n      className: \"content-section implementation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, __jsx(Growl, {\n      ref: el => this.growl = el,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }), __jsx(DataTable, {\n      value: this.state.data,\n      editable: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, __jsx(Column, {\n      field: \"first_name\",\n      header: \"First Name\",\n      editor: this.textEditor,\n      editorValidator: this.requiredValidator,\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }), __jsx(Column, {\n      field: \"last_name\",\n      header: \"Last Name\",\n      editor: this.textEditor,\n      editorValidator: this.requiredValidator,\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }), __jsx(Column, {\n      field: \"email_address\",\n      header: \"Email Address\",\n      editor: this.textEditor,\n      editorValidator: this.requiredValidator,\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }), __jsx(Column, {\n      field: \"phone_number\",\n      header: \"Phone Number\",\n      editor: this.textEditor,\n      editorValidator: this.requiredValidator,\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }), __jsx(Column, {\n      field: \"company_name\",\n      header: \"Company Name\",\n      editor: this.textEditor,\n      editorValidator: this.requiredValidator,\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }), __jsx(Column, {\n      field: \"effective_date\",\n      body: this.dateTemplate,\n      header: \"Effective Date\",\n      editor: this.calendarEditor,\n      editorValidator: this.requiredValidator,\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/bitingcold/Documents/Development/policy-crud/pages/dashboard.js"],"names":["Link","React","Component","fetch","DataTable","Column","InputText","Growl","Calendar","axios","moment","baseUrl","Dashboard","constructor","post","state","data","then","res","console","log","textEditor","bind","dateTemplate","calendarEditor","requiredValidator","componentDidMount","r","json","setState","onEditorValueChange","props","value","updatedData","rowIndex","field","rowData","column","format","inputTextEditor","e","target","postData","length","render","el","growl","height"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport React, { Component } from 'react';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport {DataTable} from 'primereact/datatable';\r\nimport {Column} from 'primereact/column';\r\nimport {InputText} from 'primereact/inputtext';\r\nimport {Growl} from 'primereact/growl';\r\nimport {Calendar} from 'primereact/calendar';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nconst baseUrl = 'http://127.0.0.1:4000/';\r\n\r\nclass Dashboard extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n\t\t\t\t\tdata: []\r\n        };\r\n\t\t\t\r\n        this.textEditor = this.textEditor.bind(this);\r\n        this.dateTemplate = this.dateTemplate.bind(this);\r\n        this.calendarEditor = this.calendarEditor.bind(this);\r\n        this.requiredValidator = this.requiredValidator.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n\t\tconst res = fetch(`${baseUrl}policies`).then( r => r.json() ).then(data => this.setState({data: data}));\r\n    }\r\n\r\n    onEditorValueChange(props, value) {\r\n        let updatedData = [...props.value];\r\n        updatedData[props.rowIndex][props.field] = value;\r\n        this.setState({data: updatedData});\r\n    }\r\n    dateTemplate(rowData, column) {\r\n        return moment(rowData['effective_date']).format(\"MM-DD-YYYY\");\r\n    }\r\n\r\n    inputTextEditor(props, field) {\r\n        return <InputText type=\"text\" value={props.rowData[field]} onChange={(e) => this.onEditorValueChange(props, e.target.value)} />;\r\n    }\r\n\r\n    textEditor(props) {\r\n\t\tthis.postData()\r\n        return this.inputTextEditor(props, props.field);\r\n\t}\r\n\t\t\r\n\tpostData = () => {\r\n\t\taxios.post(`${baseUrl}policies`, this.state.data)\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t})\r\n\t}\r\n\r\n\tcalendarEditor(props, field){\t\r\n\t\treturn <InputText type=\"text\" value={moment(props.rowData[field]).format(\"MM/DD/YYYY\")} onChange={(e) => this.onEditorValueChange(props, e.target.value)} />\r\n\t}\r\n\r\n    requiredValidator(props) {\r\n        let value = props.rowData[props.field];\r\n        return value && value.length > 0;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n              <Link href=\"/\"><a title=\"New Policy\">Create new policy</a></Link>\r\n                <div className=\"content-section implementation\">\r\n                    <Growl ref={(el) => this.growl = el} />\r\n                    <DataTable value={this.state.data} editable={true}>\r\n                        <Column field=\"first_name\" header=\"First Name\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"last_name\" header=\"Last Name\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"email_address\" header=\"Email Address\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"phone_number\" header=\"Phone Number\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"company_name\" header=\"Company Name\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column \r\n                         field=\"effective_date\" body={this.dateTemplate} header=\"Effective Date\" editor={this.calendarEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}