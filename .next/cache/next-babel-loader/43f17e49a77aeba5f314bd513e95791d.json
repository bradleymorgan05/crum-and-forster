{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\bitingcold\\\\Documents\\\\Development\\\\policy-crud\\\\pages\\\\dashboard-nx.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) {\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nimport Link from 'next/link';\nimport React, { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { InputText } from 'primereact/inputtext';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Growl } from 'primereact/growl';\nimport { Calendar } from 'primereact/calendar';\nimport Dashboard from './dashboard';\nimport axios from 'axios';\nimport moment from 'moment';\nvar baseUrl = 'http://127.0.0.1:4000/';\n\nvar DashboardNX = /*#__PURE__*/function (_Component) {\n  _inherits(DashboardNX, _Component);\n\n  var _super = _createSuper(DashboardNX);\n\n  function DashboardNX() {\n    var _this;\n\n    _classCallCheck(this, DashboardNX);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"postData\", function () {\n      console.log(_this.state.data);\n      axios.post(\"\".concat(baseUrl, \"policies\"), _this.state.data).then(function (res) {\n        console.log(res);\n        console.log(111); //console.log(res.data);\n      });\n    });\n\n    _this.state = {\n      data: []\n    };\n    _this.textEditor = _this.textEditor.bind(_assertThisInitialized(_this));\n    _this.dateTemplate = _this.dateTemplate.bind(_assertThisInitialized(_this));\n    _this.calendarEditor = _this.calendarEditor.bind(_assertThisInitialized(_this));\n    _this.yearEditor = _this.yearEditor.bind(_assertThisInitialized(_this));\n    _this.brandEditor = _this.brandEditor.bind(_assertThisInitialized(_this));\n    _this.colorEditor = _this.colorEditor.bind(_assertThisInitialized(_this));\n    _this.requiredValidator = _this.requiredValidator.bind(_assertThisInitialized(_this));\n    _this.editorForRowEditing = _this.editorForRowEditing.bind(_assertThisInitialized(_this));\n    _this.onRowEditorValidator = _this.onRowEditorValidator.bind(_assertThisInitialized(_this));\n    _this.onRowEditInit = _this.onRowEditInit.bind(_assertThisInitialized(_this));\n    _this.onRowEditSave = _this.onRowEditSave.bind(_assertThisInitialized(_this));\n    _this.onRowEditCancel = _this.onRowEditCancel.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DashboardNX, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var res;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              res = fetch(\"\".concat(baseUrl, \"policies\")).then(function (r) {\n                return r.json();\n              }).then(function (data) {\n                return _this2.setState({\n                  data: data\n                });\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n    /* Cell Editing */\n\n  }, {\n    key: \"onEditorValueChange\",\n    value: function onEditorValueChange(props, value) {\n      var updatedData = _toConsumableArray(props.value);\n\n      updatedData[props.rowIndex][props.field] = value;\n      this.setState({\n        data: updatedData\n      });\n    }\n  }, {\n    key: \"dateTemplate\",\n    value: function dateTemplate(rowData, column) {\n      return moment(rowData['effective_date']).format(\"MM-DD-YYYY\");\n    }\n  }, {\n    key: \"inputTextEditor\",\n    value: function inputTextEditor(props, field) {\n      var _this3 = this;\n\n      return __jsx(InputText, {\n        type: \"text\",\n        value: props.rowData[field],\n        onChange: function onChange(e) {\n          return _this3.onEditorValueChange(props, e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 16\n        }\n      });\n    }\n  }, {\n    key: \"textEditor\",\n    value: function textEditor(props) {\n      console.log(props);\n      this.postData();\n      return this.inputTextEditor(props, props.field);\n    }\n  }, {\n    key: \"calendarEditor\",\n    value: function calendarEditor(props, field) {\n      var _this4 = this;\n\n      return __jsx(InputText, {\n        type: \"text\",\n        value: moment(props.rowData[field]).format(\"MM/DD/YYYY\"),\n        onChange: function onChange(e) {\n          return _this4.onEditorValueChange(props, e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 12\n        }\n      });\n    }\n  }, {\n    key: \"calEditor\",\n    value: function calEditor(props) {\n      return this.calendarEditor(props, props.field);\n    }\n  }, {\n    key: \"yearEditor\",\n    value: function yearEditor(props) {\n      // console.log('fields->>>>>>',props.field)\n      return this.inputTextEditor(props, 'year');\n    }\n  }, {\n    key: \"brandEditor\",\n    value: function brandEditor(props) {\n      var _this5 = this;\n\n      var brands = [{\n        label: 'Audi',\n        value: 'Audi'\n      }, {\n        label: 'BMW',\n        value: 'BMW'\n      }, {\n        label: 'Fiat',\n        value: 'Fiat'\n      }, {\n        label: 'Ford',\n        value: 'Ford'\n      }, {\n        label: 'Honda',\n        value: 'Honda'\n      }, {\n        label: 'Jaguar',\n        value: 'Jaguar'\n      }, {\n        label: 'Mercedes',\n        value: 'Mercedes'\n      }, {\n        label: 'Renault',\n        value: 'Renault'\n      }, {\n        label: 'VW',\n        value: 'VW'\n      }, {\n        label: 'Volvo',\n        value: 'Volvo'\n      }];\n      return __jsx(Dropdown, {\n        value: props.value[props.rowIndex].brand,\n        options: brands,\n        onChange: function onChange(e) {\n          return _this5.onEditorValueChange(props, e.value);\n        },\n        style: {\n          width: '100%'\n        },\n        placeholder: \"Select a City\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      });\n    }\n  }, {\n    key: \"colorEditor\",\n    value: function colorEditor(props) {\n      return this.inputTextEditor(props, 'color');\n    }\n  }, {\n    key: \"requiredValidator\",\n    value: function requiredValidator(props) {\n      var value = props.rowData[props.field];\n      return value && value.length > 0;\n    }\n    /* Row Editing */\n\n  }, {\n    key: \"onEditorValueChangeForRowEditing\",\n    value: function onEditorValueChangeForRowEditing(props, value) {\n      var updatedCars = _toConsumableArray(props.value);\n\n      updatedCars[props.rowIndex][props.field] = value;\n      this.setState({\n        cars2: updatedCars\n      });\n    }\n  }, {\n    key: \"editorForRowEditing\",\n    value: function editorForRowEditing(props, field) {\n      var _this6 = this;\n\n      return __jsx(InputText, {\n        type: \"text\",\n        value: props.rowData[field],\n        onChange: function onChange(e) {\n          return _this6.onEditorValueChangeForRowEditing(props, e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 16\n        }\n      });\n    }\n  }, {\n    key: \"onRowEditorValidator\",\n    value: function onRowEditorValidator(rowData) {\n      var value = rowData['brand'];\n      return value.length > 0;\n    }\n  }, {\n    key: \"onRowEditInit\",\n    value: function onRowEditInit(event) {\n      this.clonedCars[event.data.vin] = _objectSpread({}, event.data);\n    }\n  }, {\n    key: \"onRowEditSave\",\n    value: function onRowEditSave(event) {\n      if (this.onRowEditorValidator(event.data)) {\n        delete this.clonedCars[event.data.vin];\n        this.growl.show({\n          severity: 'success',\n          summary: 'Success',\n          detail: 'Car is updated'\n        });\n      } else {\n        this.growl.show({\n          severity: 'error',\n          summary: 'Error',\n          detail: 'Brand is required'\n        });\n      }\n    }\n  }, {\n    key: \"onRowEditCancel\",\n    value: function onRowEditCancel(event) {\n      var cars = _toConsumableArray(this.state.cars2);\n\n      cars[event.index] = this.clonedCars[event.data.vin];\n      delete this.clonedCars[event.data.vin];\n      this.setState({\n        cars2: cars\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      console.log(this.state.data);\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, __jsx(Link, {\n        href: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 20\n        }\n      }, __jsx(\"a\", {\n        title: \"New Policy\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 5\n        }\n      }, \"Create new policy\")), __jsx(\"div\", {\n        className: \"content-section implementation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      }, __jsx(Growl, {\n        ref: function ref(el) {\n          return _this7.growl = el;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }), __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }, \"Cell Editing\"), __jsx(DataTable, {\n        value: this.state.data,\n        editable: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, __jsx(Column, {\n        field: \"first_name\",\n        header: \"first_name\",\n        editor: this.textEditor,\n        editorValidator: this.requiredValidator,\n        style: {\n          height: '3.5em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }), __jsx(Column, {\n        field: \"last_name\",\n        header: \"last_name\",\n        editor: this.textEditor,\n        editorValidator: this.requiredValidator,\n        style: {\n          height: '3.5em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }), __jsx(Column, {\n        field: \"email_address\",\n        header: \"email_address\",\n        editor: this.textEditor,\n        editorValidator: this.requiredValidator,\n        style: {\n          height: '3.5em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }\n      }), __jsx(Column, {\n        field: \"phone_number\",\n        header: \"phone_number\",\n        editor: this.textEditor,\n        editorValidator: this.requiredValidator,\n        style: {\n          height: '3.5em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }), __jsx(Column, {\n        field: \"company_name\",\n        header: \"company_name\",\n        editor: this.textEditor,\n        editorValidator: this.requiredValidator,\n        style: {\n          height: '3.5em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }), __jsx(Column, {\n        field: \"effective_date\",\n        body: this.dateTemplate,\n        header: \"effective_date\",\n        editor: this.calendarEditor,\n        editorValidator: this.requiredValidator,\n        style: {\n          height: '3.5em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return DashboardNX;\n}(Component);\n\nexport default DashboardNX;","map":{"version":3,"sources":["C:/Users/bitingcold/Documents/Development/policy-crud/pages/dashboard-nx.js"],"names":["Link","React","Component","fetch","DataTable","Column","InputText","Dropdown","Growl","Calendar","Dashboard","axios","moment","baseUrl","DashboardNX","console","log","state","data","post","then","res","textEditor","bind","dateTemplate","calendarEditor","yearEditor","brandEditor","colorEditor","requiredValidator","editorForRowEditing","onRowEditorValidator","onRowEditInit","onRowEditSave","onRowEditCancel","r","json","setState","props","value","updatedData","rowIndex","field","rowData","column","format","e","onEditorValueChange","target","postData","inputTextEditor","brands","label","brand","width","length","updatedCars","cars2","onEditorValueChangeForRowEditing","event","clonedCars","vin","growl","show","severity","summary","detail","cars","index","el","height"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport React, { Component } from 'react';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport {DataTable} from 'primereact/datatable';\r\nimport {Column} from 'primereact/column';\r\nimport {InputText} from 'primereact/inputtext';\r\nimport {Dropdown} from 'primereact/dropdown';\r\nimport {Growl} from 'primereact/growl';\r\nimport {Calendar} from 'primereact/calendar';\r\nimport Dashboard from './dashboard';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nconst baseUrl = 'http://127.0.0.1:4000/';\r\n\r\nclass DashboardNX extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n\t\t\t\t\tdata: []\r\n        };\r\n\t\t\t\r\n        this.textEditor = this.textEditor.bind(this);\r\n        this.dateTemplate = this.dateTemplate.bind(this);\r\n        this.calendarEditor = this.calendarEditor.bind(this);\r\n        this.yearEditor = this.yearEditor.bind(this);\r\n        this.brandEditor = this.brandEditor.bind(this);\r\n        this.colorEditor = this.colorEditor.bind(this);\r\n        this.requiredValidator = this.requiredValidator.bind(this);\r\n\r\n        this.editorForRowEditing = this.editorForRowEditing.bind(this);\r\n        this.onRowEditorValidator = this.onRowEditorValidator.bind(this);\r\n        this.onRowEditInit = this.onRowEditInit.bind(this);\r\n        this.onRowEditSave = this.onRowEditSave.bind(this);\r\n        this.onRowEditCancel = this.onRowEditCancel.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n\t\tconst res = fetch(`${baseUrl}policies`).then( r => r.json() ).then(data => this.setState({data: data}));\r\n    }\r\n\r\n    /* Cell Editing */\r\n    onEditorValueChange(props, value) {\r\n        let updatedData = [...props.value];\r\n        updatedData[props.rowIndex][props.field] = value;\r\n        this.setState({data: updatedData});\r\n    }\r\n    dateTemplate(rowData, column) {\r\n        return moment(rowData['effective_date']).format(\"MM-DD-YYYY\");\r\n    }\r\n\r\n    inputTextEditor(props, field) {\r\n        return <InputText type=\"text\" value={props.rowData[field]} onChange={(e) => this.onEditorValueChange(props, e.target.value)} />;\r\n    }\r\n\r\n    textEditor(props) {\r\n\t\t\tconsole.log(props)\r\n\t\t\tthis.postData()\r\n      return this.inputTextEditor(props, props.field);\r\n\t}\r\n\t\t\r\n\tpostData = () => {\r\n\t\t\tconsole.log(this.state.data)\r\n\t\t\taxios.post(`${baseUrl}policies`, this.state.data)\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tconsole.log(111);\r\n\t\t\t\t//console.log(res.data);\r\n\t\t\t})\r\n\t}\r\n\r\ncalendarEditor(props, field){\t\r\n    return <InputText type=\"text\" value={moment(props.rowData[field]).format(\"MM/DD/YYYY\")} onChange={(e) => this.onEditorValueChange(props, e.target.value)} />\r\n}\r\ncalEditor(props) {\r\nreturn this.calendarEditor(props, props.field);\r\n}\r\n\r\nyearEditor(props) {\r\n        // console.log('fields->>>>>>',props.field)\r\n        return this.inputTextEditor(props, 'year');\r\n}\r\n\r\nbrandEditor(props) {\r\n        let brands = [\r\n            {label: 'Audi', value: 'Audi'},\r\n            {label: 'BMW', value: 'BMW'},\r\n            {label: 'Fiat', value: 'Fiat'},\r\n            {label: 'Ford', value: 'Ford'},\r\n            {label: 'Honda', value: 'Honda'},\r\n            {label: 'Jaguar', value: 'Jaguar'},\r\n            {label: 'Mercedes', value: 'Mercedes'},\r\n            {label: 'Renault', value: 'Renault'},\r\n            {label: 'VW', value: 'VW'},\r\n            {label: 'Volvo', value: 'Volvo'}\r\n        ];\r\n\r\n        return (\r\n            <Dropdown value={props.value[props.rowIndex].brand} options={brands}\r\n                    onChange={(e) => this.onEditorValueChange(props, e.value)} style={{width:'100%'}} placeholder=\"Select a City\"/>\r\n        );\r\n    }\r\n\r\n    colorEditor(props) {\r\n        return this.inputTextEditor(props, 'color');\r\n    }\r\n\r\n    requiredValidator(props) {\r\n        let value = props.rowData[props.field];\r\n        return value && value.length > 0;\r\n    }\r\n\r\n    /* Row Editing */\r\n    onEditorValueChangeForRowEditing(props, value) {\r\n        let updatedCars = [...props.value];\r\n        updatedCars[props.rowIndex][props.field] = value;\r\n        this.setState({cars2: updatedCars});\r\n    }\r\n\r\n    editorForRowEditing(props, field) {\r\n        return <InputText type=\"text\" value={props.rowData[field]} onChange={(e) => this.onEditorValueChangeForRowEditing(props, e.target.value)} />;\r\n    }\r\n\r\n    onRowEditorValidator(rowData) {\r\n        let value = rowData['brand'];\r\n        return value.length > 0;\r\n    }\r\n\r\n    onRowEditInit(event) {\r\n        this.clonedCars[event.data.vin] = {...event.data};\r\n    }\r\n\r\n    onRowEditSave(event) {\r\n        if (this.onRowEditorValidator(event.data)) {\r\n            delete this.clonedCars[event.data.vin];\r\n            this.growl.show({severity: 'success', summary: 'Success', detail: 'Car is updated'});\r\n        }\r\n        else {\r\n            this.growl.show({severity: 'error', summary: 'Error', detail: 'Brand is required'});\r\n        }\r\n    }\r\n\r\n    onRowEditCancel(event) {\r\n        let cars = [...this.state.cars2];\r\n        cars[event.index] = this.clonedCars[event.data.vin];\r\n        delete this.clonedCars[event.data.vin];\r\n        this.setState({\r\n            cars2: cars\r\n        })\r\n    }\r\n\r\n    render() {\r\n\t\t\tconsole.log(this.state.data)\t\r\n        return (\r\n            <div>\r\n                \t\t\t<Link href=\"/\">\r\n\t\t\t\t<a title=\"New Policy\">Create new policy</a>\r\n\t\t\t</Link>\r\n                <div className=\"content-section implementation\">\r\n                    <Growl ref={(el) => this.growl = el} />\r\n\r\n                    <h3>Cell Editing</h3>\r\n                    <DataTable value={this.state.data} editable={true}>\r\n                        <Column field=\"first_name\" header=\"first_name\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"last_name\" header=\"last_name\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"email_address\" header=\"email_address\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"phone_number\" header=\"phone_number\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column field=\"company_name\" header=\"company_name\" editor={this.textEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                        <Column \r\n                         field=\"effective_date\" body={this.dateTemplate} header=\"effective_date\" editor={this.calendarEditor} editorValidator={this.requiredValidator} style={{height: '3.5em'}}/>\r\n                    </DataTable>\r\n\r\n                    {/* <h3>Row Editing</h3>\r\n                    <DataTable value={this.state.data} editMode=\"row\" rowEditorValidator={this.onRowEditorValidator} onRowEditInit={this.onRowEditInit} onRowEditSave={this.onRowEditSave} onRowEditCancel={this.onRowEditCancel}>\r\n                        <Column field=\"first_name\" header=\"first_name\" style={{height: '3.5em'}}/>\r\n                        <Column field=\"last_name\" header=\"last_name\" editor={(props) => this.editorForRowEditing(props, 'year')} style={{height: '3.5em'}}/>\r\n                        <Column field=\"email_address\" header=\"email_address\" editor={(props) => this.editorForRowEditing(props, 'brand')} style={{height: '3.5em'}}/>\r\n                        <Column field=\"phone_number\" header=\"phone_number\" editor={(props) => this.editorForRowEditing(props, 'color')} style={{height: '3.5em'}}/>\r\n                        <Column field=\"company_name\" header=\"company_name\" editor={(props) => this.editorForRowEditing(props, 'color')} style={{height: '3.5em'}}/>\r\n                        <Column field=\"effective_date\" header=\"effective_date\" editor={(props) => this.editorForRowEditing(props, 'color')} style={{height: '3.5em'}}/>\r\n                        <Column field=\"status\" header=\"status\" editor={(props) => this.editorForRowEditing(props, 'color')} style={{height: '3.5em'}}/>\r\n                        <Column rowEditor={true} style={{'width': '70px', 'textAlign': 'center'}}></Column>\r\n                    </DataTable> */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DashboardNX"]},"metadata":{},"sourceType":"module"}